<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>Golang学习笔记 | 少年锦时</title><meta name="author" content="s8ark"><meta name="copyright" content="s8ark"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="声明：本文为b站大佬刘丹冰Aceld的8小时转职Golang工程师视频学习笔记，如有侵权，联系我速删 大佬的传送门：https://www.bilibili.com/video/BV1gf4y1r79E/?spm_id_from=333.999.0.0&amp;vd_source=95a9bb0b0759f8d391968411c1a6f007  在b站发现了大佬的宝藏视频，在此记录下学习过程。"><meta property="og:type" content="article"><meta property="og:title" content="Golang学习笔记"><meta property="og:url" content="https://blog.s8ark.top/2023/01/09/Golang%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/index.html"><meta property="og:site_name" content="少年锦时"><meta property="og:description" content="声明：本文为b站大佬刘丹冰Aceld的8小时转职Golang工程师视频学习笔记，如有侵权，联系我速删 大佬的传送门：https://www.bilibili.com/video/BV1gf4y1r79E/?spm_id_from=333.999.0.0&amp;vd_source=95a9bb0b0759f8d391968411c1a6f007  在b站发现了大佬的宝藏视频，在此记录下学习过程。"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="http://up.36992.com/pic/e6/c5/51/e6c551e768092c8655292d89a4034a74.jpg"><meta property="article:published_time" content="2023-01-09T10:18:26.000Z"><meta property="article:modified_time" content="2023-01-10T03:11:58.000Z"><meta property="article:author" content="s8ark"><meta property="article:tag" content="Golang"><meta property="article:tag" content="编程语言"><meta property="article:tag" content="并发"><meta property="article:tag" content="协程"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="http://up.36992.com/pic/e6/c5/51/e6c551e768092c8655292d89a4034a74.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://blog.s8ark.top/2023/01/09/Golang%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//hm.baidu.com"><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://unpkg.com/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media=&quot;all&quot;"><link rel="stylesheet" href="https://unpkg.com/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media=&quot;all&quot;"><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?aaf3e014fbcd61fc9b3e7614f72ed895";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://unpkg.com/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://unpkg.com/flickr-justified-gallery/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"Golang学习笔记",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2023-01-10 11:11:58"}</script><noscript><style type="text/css">#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/modify.css"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/top-header.css"><meta name="generator" content="Hexo 6.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/touxiang.jpg" onerror="onerror=null,src=&quot;/img/friend_404.gif&quot;" alt="avatar"></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">19</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">38</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">7</div></a></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/books/"><i class="fa-fw fas fa-book"></i><span> 书籍</span></a></div><div class="menus_item"><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url(http://up.36992.com/pic/e6/c5/51/e6c551e768092c8655292d89a4034a74.jpg)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">少年锦时</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/books/"><i class="fa-fw fas fa-book"></i><span> 书籍</span></a></div><div class="menus_item"><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div></div></div><div id="nav-right"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i></a></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Golang学习笔记</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-01-09T10:18:26.000Z" title="发表于 2023-01-09 18:18:26">2023-01-09</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-01-10T03:11:58.000Z" title="更新于 2023-01-10 11:11:58">2023-01-10</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Golang/">Golang</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" data-flag-title="Golang学习笔记"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><div class="top-img" style="background-image: url(http://up.36992.com/pic/e6/c5/51/e6c551e768092c8655292d89a4034a74.jpg);"></div><article class="post-content" id="article-container"><blockquote><p>声明：本文为b站大佬<strong>刘丹冰Aceld</strong>的<strong>8小时转职Golang工程师</strong>视频学习笔记，如有侵权，联系我速删</p><p>大佬的传送门：<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1gf4y1r79E/?spm_id_from=333.999.0.0&amp;vd_source=95a9bb0b0759f8d391968411c1a6f007">https://www.bilibili.com/video/BV1gf4y1r79E/?spm_id_from=333.999.0.0&amp;vd_source=95a9bb0b0759f8d391968411c1a6f007</a></p></blockquote><p>在b站发现了大佬的宝藏视频，在此记录下学习过程。我在这里着重学习记录的是go语言的特性，也就是go与其他后端语言有区别的地方。并且在文章的末尾附上我使用go语言开发的即时通信系统的github地址。</p><h1 id="一、目录"><a href="#一、目录" class="headerlink" title="一、目录"></a>一、目录</h1><p>1.初识go语言</p><p>2.变量与常量</p><p>3.函数的返回值与defer</p><p>4.golang中的数组</p><p>5.golang中的map</p><p>6.golang面向对象基础</p><p>7.golang中的反射</p><p>8.goroutine和channel</p><h1 id="二、初识go语言"><a href="#二、初识go语言" class="headerlink" title="二、初识go语言"></a>二、初识go语言</h1><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main <span class="comment">//程序的包名</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> ( <span class="comment">//程序导包</span></span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="string">"time"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> { <span class="comment">//函数声明行末必须是左花括号</span></span><br><span class="line">	fmt.Println(<span class="string">"Hello,go!!!"</span>)</span><br><span class="line">	time.Sleep(<span class="number">2</span> * time.Second)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>运行结果：</strong></p><p><img src="/images/Golang%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.assets/image-20230109105022987.png" alt="image-20230109105022987"></p><p><strong>知识点：</strong></p><p>1.程序的第一行是包名，使用<strong>package</strong>关键字</p><p>2.使用<strong>import</strong>关键字进行导包</p><p>3.go语言中函数声明行末必须是左花括号</p><h1 id="三、变量与常量"><a href="#三、变量与常量" class="headerlink" title="三、变量与常量"></a>三、变量与常量</h1><h2 id="1-声明变量的四种方式"><a href="#1-声明变量的四种方式" class="headerlink" title="1.声明变量的四种方式"></a>1.声明变量的四种方式</h2><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">	<span class="comment">//1.声明一个变量，不赋初值，默认为0</span></span><br><span class="line">	<span class="keyword">var</span> a <span class="type">int</span></span><br><span class="line">	fmt.Println(<span class="string">"a ="</span>, a)</span><br><span class="line">	<span class="comment">//2.为变量赋初值</span></span><br><span class="line">	<span class="keyword">var</span> b <span class="type">string</span> = <span class="string">"字符串"</span></span><br><span class="line">	fmt.Println(<span class="string">"b ="</span>, b)</span><br><span class="line">	<span class="comment">//3.省去数据类型，自动推断</span></span><br><span class="line">	<span class="keyword">var</span> c = <span class="number">100.00</span></span><br><span class="line">	fmt.Printf(<span class="string">"c is %T\n"</span>, c)</span><br><span class="line">	<span class="comment">//4.省去var关键字</span></span><br><span class="line">	<span class="comment">//注意：冒等不可用来声明全局变量，即只能是在函数体内使用</span></span><br><span class="line">	d := <span class="number">60</span></span><br><span class="line">	fmt.Printf(<span class="string">"the type of c is %T\n"</span>, d)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>运行结果：</strong></p><p><img src="/images/Golang%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.assets/image-20230109110102171.png" alt="image-20230109110102171"></p><p><strong>知识点：</strong></p><p>(1) 我们通常使用fmt包中的Println函数来输出一行内容，相当于python中的print函数，其中的逗号表示使用空格连接，会自动在末尾加上换行符。</p><p>(2) fmt包中的Printf函数为格式化输出，不会自动加换行符，需要手动添加。其中的格式化参数:</p><ul><li><code>%T</code> 打印变量的类型.</li><li><code>%v</code> 以默认的方式打印变量的值.例如在结构体中{jack {12345 6789}}</li><li><code>%+v</code> 带字段名称.例如在结构体中{name:jack phone:{mobile:12345 office:6789}</li><li><code>%t</code> 打印true或false</li><li>……</li></ul><p>(3) 我们通常在函数体内使用冒等(:=)的写法来初始化变量，并给它赋值</p><h2 id="2-声明多个变量"><a href="#2-声明多个变量" class="headerlink" title="2.声明多个变量"></a>2.声明多个变量</h2><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">	<span class="keyword">var</span> m, n <span class="type">int</span> = <span class="number">100</span>, <span class="number">200</span></span><br><span class="line">	<span class="keyword">var</span> j, k = <span class="number">300</span>, <span class="string">"abc"</span></span><br><span class="line">	c, v := <span class="number">1.5</span>, <span class="literal">true</span></span><br><span class="line">	fmt.Println(m, n, j, k, c, v)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> (</span><br><span class="line">		z <span class="type">bool</span> = <span class="literal">true</span></span><br><span class="line">		x <span class="type">int</span>  = <span class="number">1</span></span><br><span class="line">	)</span><br><span class="line">	fmt.Println(z, x)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>运行结果：</strong></p><p><img src="/images/Golang%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.assets/image-20230109111702647.png" alt="image-20230109111702647"></p><h2 id="3-const与iota"><a href="#3-const与iota" class="headerlink" title="3.const与iota"></a>3.const与iota</h2><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//const定义枚举</span></span><br><span class="line"><span class="keyword">const</span>(</span><br><span class="line">	<span class="comment">//可以在const使用关键字iota,初值为0，每行+1</span></span><br><span class="line">	MONDAY = <span class="literal">iota</span>+<span class="number">1</span> <span class="comment">//iota=0 ,iota+1=1</span></span><br><span class="line">	TUESDAY  		<span class="comment">//iota=1 ,iota+1=2</span></span><br><span class="line">	WEDNESDAY  	<span class="comment">//iota=2 ,iota+1=3</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span>(</span><br><span class="line">	a,b = <span class="literal">iota</span>+<span class="number">1</span>,<span class="literal">iota</span>+<span class="number">2</span> <span class="comment">//iota=0</span></span><br><span class="line">	c,d					<span class="comment">//iota=1</span></span><br><span class="line">	e,f					<span class="comment">//iota=2</span></span><br><span class="line"></span><br><span class="line">	g,h = <span class="literal">iota</span>*<span class="number">2</span> , <span class="literal">iota</span>*<span class="number">3</span> <span class="comment">//iota=3</span></span><br><span class="line">	m,n</span><br><span class="line">)</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">	<span class="comment">//常量（只读属性）</span></span><br><span class="line">	<span class="keyword">const</span> length <span class="type">int</span> = <span class="number">10</span></span><br><span class="line"></span><br><span class="line">	fmt.Println(MONDAY,TUESDAY,WEDNESDAY)</span><br><span class="line">	fmt.Println(a,b,c,d,e,f,g,h,m,n)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>运行结果：</strong></p><p><img src="/images/Golang%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.assets/image-20230109112016337.png" alt="image-20230109112016337"></p><p><strong>知识点：</strong></p><p>(1) 常量的定义格式和变量的声明语法类似</p><p>(2) iota是常量计数器，在第一行为0，之后每新增一行常量声明将使iota计数一次</p><h1 id="四、函数的返回值与defer"><a href="#四、函数的返回值与defer" class="headerlink" title="四、函数的返回值与defer"></a>四、函数的返回值与defer</h1><h2 id="1-函数多返回值的几种写法"><a href="#1-函数多返回值的几种写法" class="headerlink" title="1.函数多返回值的几种写法"></a>1.函数多返回值的几种写法</h2><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//只有一个返回值</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">foo1</span><span class="params">(a <span class="type">string</span>, b <span class="type">string</span>)</span></span> <span class="type">int</span> {</span><br><span class="line">	c := <span class="number">11111</span></span><br><span class="line">	fmt.Println(<span class="string">"进入了函数1,并输入两个参数:"</span>, a, b)</span><br><span class="line">	<span class="keyword">return</span> c</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//有多个返回值，匿名的</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">foo2</span><span class="params">(a <span class="type">string</span>, b <span class="type">string</span>)</span></span> (<span class="type">int</span>, <span class="type">string</span>) {</span><br><span class="line">	c := <span class="number">2222222</span></span><br><span class="line">	d := <span class="string">"222222"</span></span><br><span class="line">	fmt.Println(<span class="string">"进入了函数2,并输入两个参数:"</span>, a, b)</span><br><span class="line">	<span class="keyword">return</span> c, d</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//返回多个值，有形参名称的</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">foo3</span><span class="params">(a <span class="type">string</span>, b <span class="type">string</span>)</span></span> (r1 <span class="type">int</span>, r2 <span class="type">string</span>) {</span><br><span class="line">	fmt.Println(<span class="string">"进入了函数3,并输入两个参数:"</span>, a, b)</span><br><span class="line"></span><br><span class="line">	<span class="comment">//给有名称的返回值变量赋值</span></span><br><span class="line">	r1 = <span class="number">333</span></span><br><span class="line">	r2 = <span class="string">"333333333"</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//返回多个值，有形参名称的,且形参类型相同，可省略只写一个</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">foo4</span><span class="params">(a <span class="type">string</span>, b <span class="type">string</span>)</span></span> (r1, r2 <span class="type">int</span>) {</span><br><span class="line">	fmt.Println(<span class="string">"进入了函数4,并输入两个参数:"</span>, a, b)</span><br><span class="line"></span><br><span class="line">	<span class="comment">//给有名称的返回值变量赋值</span></span><br><span class="line">	r1 = <span class="number">444</span></span><br><span class="line">	r2 = <span class="number">444444</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">	fmt.Println(foo1(<span class="string">"1"</span>, <span class="string">"1"</span>))</span><br><span class="line"></span><br><span class="line">	ret1, ret2 := foo2(<span class="string">"2"</span>, <span class="string">"2"</span>)</span><br><span class="line">	fmt.Println(ret1, ret2)</span><br><span class="line"></span><br><span class="line">	ret3, ret4 := foo3(<span class="string">"3"</span>, <span class="string">"3"</span>)</span><br><span class="line">	fmt.Println(ret3, ret4)</span><br><span class="line"></span><br><span class="line">	ret5, ret6 := foo4(<span class="string">"4"</span>, <span class="string">"4"</span>)</span><br><span class="line">	fmt.Println(ret5, ret6)</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>运行结果：</strong></p><p><img src="/images/Golang%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.assets/image-20230109153955212.png" alt="image-20230109153955212"></p><p><strong>知识点：</strong></p><p>(1) 函数声明语法： func 函数名(形参 形参数据类型，……)(返回值参数 返回值类型，…){</p><p>(2) 大多数 <code>a int,b int,c int</code>这种形式都可以简写为<code>a, b, c int</code></p><p>(3) 函数名首字母小写表示只能在当前文件内调用，像我们常用的fmt.Println()首字母大写，可以在其他文件内调用</p><h2 id="2-defer语句调用流程"><a href="#2-defer语句调用流程" class="headerlink" title="2.defer语句调用流程"></a>2.defer语句调用流程</h2><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//函数名首字母小写表示只能在当前文件内调用</span></span><br><span class="line"><span class="comment">//在函数return之后才会进行defer</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">deferAndReturn</span><span class="params">()</span></span> <span class="type">int</span> {</span><br><span class="line">	<span class="keyword">defer</span> fmt.Println(<span class="string">"func: 调用了defer"</span>)</span><br><span class="line">	<span class="keyword">return</span> returnFunc()</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">returnFunc</span><span class="params">()</span></span> <span class="type">int</span> {</span><br><span class="line">	fmt.Println(<span class="string">"func: 调用了return"</span>)</span><br><span class="line">	<span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">	<span class="comment">//在当前函数结束之前调用,按入栈顺序执行</span></span><br><span class="line">	<span class="keyword">defer</span> fmt.Println(<span class="string">"main: main end1"</span>)</span><br><span class="line">	<span class="keyword">defer</span> fmt.Println(<span class="string">"main: main end2"</span>)</span><br><span class="line"></span><br><span class="line">	fmt.Println(<span class="string">"main: main go 1"</span>)</span><br><span class="line">	fmt.Println(<span class="string">"main: main go 2"</span>)</span><br><span class="line"></span><br><span class="line">	deferAndReturn()</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>运行结果：</strong></p><p><img src="/images/Golang%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.assets/image-20230109154930773.png" alt="image-20230109154930773"></p><p><strong>知识点：</strong></p><p>(1) 使用defer后会将当前语句<strong>入栈</strong>，在当前函数结束之前<strong>依次出栈</strong></p><p>(2) 注意defer是在return之后执行的</p><h1 id="五、golang中的数组"><a href="#五、golang中的数组" class="headerlink" title="五、golang中的数组"></a>五、golang中的数组</h1><h2 id="1-静态数组"><a href="#1-静态数组" class="headerlink" title="1.静态数组"></a>1.静态数组</h2><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">printArray</span><span class="params">(myArray [10]<span class="type">int</span>)</span></span>{</span><br><span class="line">	<span class="keyword">for</span> index,value := <span class="keyword">range</span> myArray{</span><br><span class="line">		fmt.Println(index,value)</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">	<span class="comment">//固定长度数组</span></span><br><span class="line">	<span class="keyword">var</span> myarray1 [<span class="number">10</span>]<span class="type">int</span></span><br><span class="line">	myarray2 := [<span class="number">10</span>]<span class="type">int</span>{<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>}</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> i:=<span class="number">0</span>; i&lt;<span class="built_in">len</span>(myarray1); i++ {</span><br><span class="line">		fmt.Println(myarray1[i])</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	printArray(myarray2)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>运行结果：</strong></p><img src="/images/Golang学习笔记.assets/image-20230109161755282.png" alt="image-20230109161755282" style="zoom:50%"><p><strong>知识点：</strong></p><p>(1) 声明数组后，其中元素默认值为0</p><p>(2) 函数的形参和传递实参的长度一定要对应</p><h2 id="2-动态数组"><a href="#2-动态数组" class="headerlink" title="2.动态数组"></a>2.动态数组</h2><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">printArray</span><span class="params">(myArray []<span class="type">int</span>)</span></span> {</span><br><span class="line">	<span class="comment">//引用传递，不是值传递</span></span><br><span class="line">	<span class="comment">//_表示匿名的变量</span></span><br><span class="line">	<span class="keyword">for</span> _, value := <span class="keyword">range</span> myArray {</span><br><span class="line">		fmt.Println(value)</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">	<span class="comment">//动态数组</span></span><br><span class="line">	<span class="comment">//声明并初始化，默认值为1，2，3 长度len是3</span></span><br><span class="line">	slice1 := []<span class="type">int</span>{<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>}</span><br><span class="line">	printArray(slice1)</span><br><span class="line">	fmt.Printf(<span class="string">"len=%d,slice=%v\n"</span>, <span class="built_in">len</span>(slice1), slice1)</span><br><span class="line"></span><br><span class="line">	<span class="comment">//声明一个动态数组，但是不给他分配空间</span></span><br><span class="line">	<span class="keyword">var</span> slice2 []<span class="type">int</span></span><br><span class="line">	<span class="comment">//使用make开辟3个空间，默认值为0</span></span><br><span class="line">	slice2 = <span class="built_in">make</span>([]<span class="type">int</span>, <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>运行结果：</strong></p><p><img src="/images/Golang%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.assets/image-20230109162247440.png" alt="image-20230109162247440"></p><h2 id="3-动态数组的容量"><a href="#3-动态数组的容量" class="headerlink" title="3.动态数组的容量"></a>3.动态数组的容量</h2><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">	<span class="keyword">var</span> numbers = <span class="built_in">make</span>([]<span class="type">int</span>, <span class="number">3</span>, <span class="number">5</span>)</span><br><span class="line">	<span class="comment">//长度和容量</span></span><br><span class="line">	fmt.Printf(<span class="string">"len=%d,cap=%d,slice=%v\n"</span>, <span class="built_in">len</span>(numbers), <span class="built_in">cap</span>(numbers), numbers)</span><br><span class="line">	<span class="comment">//向slice中追加元素1</span></span><br><span class="line">	numbers = <span class="built_in">append</span>(numbers, <span class="number">1</span>)</span><br><span class="line">	fmt.Printf(<span class="string">"len=%d,cap=%d,slice=%v\n"</span>, <span class="built_in">len</span>(numbers), <span class="built_in">cap</span>(numbers), numbers)</span><br><span class="line">	<span class="comment">//再向slice追加两个元素，超过cap</span></span><br><span class="line">	<span class="comment">//他会自动扩充一个原始cap的大小,我们可以将看到cap变成了10（5+5）</span></span><br><span class="line">	numbers = <span class="built_in">append</span>(numbers, <span class="number">2</span>)</span><br><span class="line">	numbers = <span class="built_in">append</span>(numbers, <span class="number">3</span>)</span><br><span class="line">	fmt.Printf(<span class="string">"len=%d,cap=%d,slice=%v\n"</span>, <span class="built_in">len</span>(numbers), <span class="built_in">cap</span>(numbers), numbers)</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>运行结果：</strong></p><p><img src="/images/Golang%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.assets/image-20230109162344449.png" alt="image-20230109162344449"></p><p><strong>知识点：</strong></p><p>(1) 使用make为数组开辟空间时，可以指定数组的cap,即数组的最大容量</p><p>(2) 当向slice添加的元素超过cap时，会自动扩充一个原始cap的大小</p><h1 id="六、golang中的map"><a href="#六、golang中的map" class="headerlink" title="六、golang中的map"></a>六、golang中的map</h1><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">	<span class="comment">//声明一个map</span></span><br><span class="line">	<span class="keyword">var</span> myMap1 <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">string</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//给map分配空间</span></span><br><span class="line">	myMap1 = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">string</span>, <span class="number">10</span>)</span><br><span class="line">	myMap1[<span class="string">"one"</span>] = <span class="string">"java"</span></span><br><span class="line">	myMap1[<span class="string">"two"</span>] = <span class="string">"c++"</span></span><br><span class="line"></span><br><span class="line">	fmt.Println(myMap1)</span><br><span class="line"></span><br><span class="line">	<span class="comment">//另一种声明方式</span></span><br><span class="line">	myMap2 := <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">string</span>{</span><br><span class="line">		<span class="string">"a"</span>: <span class="string">"aa"</span>,</span><br><span class="line">		<span class="string">"b"</span>: <span class="string">"bb"</span>, <span class="comment">//末尾记得加逗号</span></span><br><span class="line">	}</span><br><span class="line">	fmt.Println(myMap2)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>运行结果：</strong></p><p><img src="/images/Golang%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.assets/image-20230109162934736.png" alt="image-20230109162934736"></p><h1 id="七、golang面向对象基础"><a href="#七、golang面向对象基础" class="headerlink" title="七、golang面向对象基础"></a>七、golang面向对象基础</h1><h2 id="1-struct的使用"><a href="#1-struct的使用" class="headerlink" title="1.struct的使用"></a>1.struct的使用</h2><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//type关键字 声明一种新的数据类型 ，int的一个别名</span></span><br><span class="line"><span class="keyword">type</span> myint <span class="type">int</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//定义一个结构体</span></span><br><span class="line"><span class="keyword">type</span> Book <span class="keyword">struct</span> {</span><br><span class="line">	title <span class="type">string</span></span><br><span class="line">	auth  <span class="type">string</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">printBook</span><span class="params">(book Book)</span></span> {</span><br><span class="line">	<span class="comment">//值传递,传递一个book的副本，不改变值</span></span><br><span class="line">	fmt.Printf(<span class="string">"%v\n"</span>, book)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">changeBook</span><span class="params">(book *Book)</span></span> {</span><br><span class="line">	<span class="comment">//指针传递</span></span><br><span class="line">	book.title = <span class="string">"已经被改变了"</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">	<span class="keyword">var</span> book1 Book</span><br><span class="line">	book1.title = <span class="string">"Golang"</span></span><br><span class="line">	book1.auth = <span class="string">"lisi"</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// %v表示可以打印任何类型的变量</span></span><br><span class="line">	fmt.Printf(<span class="string">"%v\n"</span>, book1)</span><br><span class="line"></span><br><span class="line">	<span class="comment">//要传地址</span></span><br><span class="line">	changeBook(&amp;book1)</span><br><span class="line">	fmt.Printf(<span class="string">"%v\n"</span>, book1)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>运行结果：</strong></p><p><img src="/images/Golang%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.assets/image-20230109163244795.png" alt="image-20230109163244795"></p><h2 id="2-创建一个对象"><a href="#2-创建一个对象" class="headerlink" title="2.创建一个对象"></a>2.创建一个对象</h2><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Hero <span class="keyword">struct</span> {</span><br><span class="line">	Name  <span class="type">string</span></span><br><span class="line">	Ad    <span class="type">int</span></span><br><span class="line">	Level <span class="type">int</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//名字首字母大写=public 首字母小写=private</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *Hero)</span></span> Show() {</span><br><span class="line">	fmt.Println(<span class="string">"Name ="</span>, this.Name)</span><br><span class="line">	fmt.Println(<span class="string">"Ad ="</span>, this.Ad)</span><br><span class="line">	fmt.Println(<span class="string">"Level ="</span>, this.Level)</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *Hero)</span></span> GetName() <span class="type">string</span> {</span><br><span class="line">	<span class="keyword">return</span> this.Name</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//注意set中需要改变值，需要传递指针</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *Hero)</span></span> SetName(newName <span class="type">string</span>) {</span><br><span class="line">	this.Name = newName</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">	<span class="comment">//创建对象</span></span><br><span class="line">	hero := Hero{Name: <span class="string">"zhangsan"</span>, Ad: <span class="number">100</span>, Level: <span class="number">2</span>}</span><br><span class="line">	<span class="comment">//</span></span><br><span class="line">	fmt.Println(hero.GetName())</span><br><span class="line">	hero.SetName(<span class="string">"已经改变"</span>)</span><br><span class="line">	hero.Show()</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>运行结果：</strong></p><p><img src="/images/Golang%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.assets/image-20230109163430306.png" alt="image-20230109163430306"></p><p><strong>知识点：</strong></p><p>(1) 注意成员方法的写法，要在func和函数名之间加上**(变量名 *类名)**，变量名通常用this</p><h2 id="3-类的继承"><a href="#3-类的继承" class="headerlink" title="3.类的继承"></a>3.类的继承</h2><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Human <span class="keyword">struct</span> {</span><br><span class="line">	name <span class="type">string</span></span><br><span class="line">	sex  <span class="type">string</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *Human)</span></span> Eat() {</span><br><span class="line">	fmt.Println(<span class="string">"开饭了"</span>)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *Human)</span></span> Walk() {</span><br><span class="line">	fmt.Println(<span class="string">"走起来了"</span>)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> SuperMan <span class="keyword">struct</span> {</span><br><span class="line">	Human <span class="comment">//SuperMan继承了Human类的方法</span></span><br><span class="line"></span><br><span class="line">	level <span class="type">int</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//重新定义父类的方法Eat()</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *SuperMan)</span></span> Eat() {</span><br><span class="line">	fmt.Println(<span class="string">"超人开饭了"</span>)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//子类的新方法</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *SuperMan)</span></span> Fly() {</span><br><span class="line">	fmt.Println(<span class="string">"超人飞起来了"</span>)</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">	human := Human{<span class="string">"zhangsan"</span>, <span class="string">"female"</span>}</span><br><span class="line">	human.Eat()</span><br><span class="line"></span><br><span class="line">	<span class="comment">//定义一个子类对象</span></span><br><span class="line">	<span class="comment">// s := SuperMan{Human{"lisi","male"},99}</span></span><br><span class="line">	<span class="keyword">var</span> s SuperMan</span><br><span class="line">	s.name = <span class="string">"lisi"</span></span><br><span class="line">	s.sex = <span class="string">"male"</span></span><br><span class="line">	s.level = <span class="number">99</span></span><br><span class="line">	s.Walk()</span><br><span class="line">	s.Eat()</span><br><span class="line">	s.Fly()</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>运行结果：</strong></p><p><img src="/images/Golang%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.assets/image-20230109163924166.png" alt="image-20230109163924166"></p><h2 id="4-创建一个接口"><a href="#4-创建一个接口" class="headerlink" title="4.创建一个接口"></a>4.创建一个接口</h2><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//本质是一个指针</span></span><br><span class="line"><span class="keyword">type</span> AnimalIF <span class="keyword">interface</span>{</span><br><span class="line">	Sleep()</span><br><span class="line">	GetColor() <span class="type">string</span></span><br><span class="line">	GetType() <span class="type">string</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//具体的类</span></span><br><span class="line"><span class="keyword">type</span> Cat <span class="keyword">struct</span>{</span><br><span class="line">	color <span class="type">string</span></span><br><span class="line">}</span><br><span class="line"><span class="comment">//实现接口的所有方法就是实现它</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *Cat)</span></span> Sleep(){</span><br><span class="line">	fmt.Println(<span class="string">"猫在睡觉"</span>)</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *Cat)</span></span> GetColor() <span class="type">string</span> {</span><br><span class="line">	<span class="keyword">return</span> this.color</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *Cat)</span></span> GetType() <span class="type">string</span> {</span><br><span class="line">	<span class="keyword">return</span> <span class="string">"cat"</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Dog <span class="keyword">struct</span>{</span><br><span class="line">	color <span class="type">string</span></span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *Dog)</span></span> Sleep(){</span><br><span class="line">	fmt.Println(<span class="string">"狗在睡觉"</span>)</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *Dog)</span></span> GetColor() <span class="type">string</span> {</span><br><span class="line">	<span class="keyword">return</span> this.color</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *Dog)</span></span> GetType() <span class="type">string</span> {</span><br><span class="line">	<span class="keyword">return</span> <span class="string">"dog"</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">showAnimal</span><span class="params">(animal AnimalIF)</span></span>{</span><br><span class="line">	animal.Sleep()<span class="comment">//多态</span></span><br><span class="line">	fmt.Println(<span class="string">"color = "</span>,animal.GetColor())</span><br><span class="line">	fmt.Println(<span class="string">"type = "</span>,animal.GetType())</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">	<span class="comment">/**var animal AnimalIF//接口的数据类型 父类指针</span></span><br><span class="line"><span class="comment">	animal = &amp;Cat{"Green"}</span></span><br><span class="line"><span class="comment">	animal.Sleep()</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">	animal = &amp;Dog{"Yellow"}</span></span><br><span class="line"><span class="comment">	animal.Sleep()**/</span></span><br><span class="line">	cat := Cat{<span class="string">"Green"</span>}</span><br><span class="line">	dog := Dog{<span class="string">"Yellow"</span>}</span><br><span class="line">	showAnimal(&amp;cat)</span><br><span class="line">	showAnimal(&amp;dog)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>运行结果：</strong></p><p><img src="/images/Golang%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.assets/image-20230109164340679.png" alt="image-20230109164340679"></p><p><strong>知识点：</strong></p><p>(1) 接口使用interface关键字</p><p>(2) 当一个类实现了接口的所有方法后，就相当于是实现了这个接口</p><h2 id="5-interface-万能数据类型"><a href="#5-interface-万能数据类型" class="headerlink" title="5.interface{}万能数据类型"></a>5.interface{}万能数据类型</h2><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//interface{}是万能数据类型</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">myFunc</span><span class="params">(arg <span class="keyword">interface</span>{})</span></span> {</span><br><span class="line">	fmt.Println(arg)</span><br><span class="line"></span><br><span class="line">	<span class="comment">//interface{}如何区分此时引用的底层数据类型是什么呢</span></span><br><span class="line">	<span class="comment">//给interface{}提供“类型断言”机制</span></span><br><span class="line">	value, ok := arg.(<span class="type">string</span>)</span><br><span class="line">	<span class="keyword">if</span> !ok {</span><br><span class="line">		fmt.Println(<span class="string">"arg is not string"</span>)</span><br><span class="line">	} <span class="keyword">else</span> {</span><br><span class="line">		fmt.Println(<span class="string">"arg is string,value ="</span>, value)</span><br><span class="line">		fmt.Printf(<span class="string">"arg type is %T\n"</span>, value)</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Book <span class="keyword">struct</span> {</span><br><span class="line">	auth <span class="type">string</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">	book := Book{<span class="string">"Golang"</span>}</span><br><span class="line">	myFunc(book)</span><br><span class="line">	myFunc(<span class="string">"1234"</span>)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>运行结果：</strong></p><p><img src="/images/Golang%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.assets/image-20230109164657848.png" alt="image-20230109164657848"></p><p><strong>知识点：</strong></p><p>(1) 感觉interface{}类似于java中的Object</p><h1 id="八、golang中的反射"><a href="#八、golang中的反射" class="headerlink" title="八、golang中的反射"></a>八、golang中的反射</h1><h2 id="1-变量的内置pair结构"><a href="#1-变量的内置pair结构" class="headerlink" title="1.变量的内置pair结构"></a>1.变量的内置pair结构</h2><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">			变量</span></span><br><span class="line"><span class="comment">		|			|</span></span><br><span class="line"><span class="comment">	  type        value					-&gt; pair</span></span><br><span class="line"><span class="comment">	|		|</span></span><br><span class="line"><span class="comment">static type concrete type</span></span><br><span class="line"><span class="comment">**/</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">	<span class="keyword">var</span> a <span class="type">string</span></span><br><span class="line">	<span class="comment">//pair&lt;static type:string,value:"abcd"&gt;</span></span><br><span class="line">	a = <span class="string">"abcd"</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//pair&lt;type:string,value:"abcd"&gt;</span></span><br><span class="line">	<span class="keyword">var</span> allType <span class="keyword">interface</span>{}</span><br><span class="line">	allType = a</span><br><span class="line"></span><br><span class="line">	str, _ := allType.(<span class="type">string</span>)</span><br><span class="line">	fmt.Println(str)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>运行结果：</strong></p><p><img src="/images/Golang%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.assets/image-20230109165116718.png" alt="image-20230109165116718"></p><p><strong>知识点：</strong></p><p>(1) 每个变量都内置一个键值对(type, value)</p><p>(2) 变量不管给谁赋值，变量的pair都不会改变（<strong>pair连续传递</strong>）</p><p><strong>一些例子：</strong></p><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="string">"io"</span></span><br><span class="line">	<span class="string">"os"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">	<span class="comment">//tmp: pair&lt;type:*os.File, value:"D:\Temp\tmp.txt"文件描述符&gt;</span></span><br><span class="line">	tmp, err := os.OpenFile(<span class="string">"D:\\Temp\\tmp.txt"</span>, os.O_RDWR, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> {</span><br><span class="line">		fmt.Println(<span class="string">"error"</span>, err)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="comment">//r: pair&lt;type: , value: &gt;</span></span><br><span class="line">	<span class="keyword">var</span> r io.Reader</span><br><span class="line">	<span class="comment">//r: pair&lt;type:*os.File, value:"D:\Temp\tmp.txt"文件描述符&gt;</span></span><br><span class="line">	r = tmp</span><br><span class="line"></span><br><span class="line">	<span class="comment">//w: pair&lt;type: , value: &gt;</span></span><br><span class="line">	<span class="keyword">var</span> w io.Writer</span><br><span class="line">	<span class="comment">//w: pair&lt;type:*os.File, value:"D:\Temp\tmp.txt"文件描述符&gt;</span></span><br><span class="line">	w = r.(io.Writer)</span><br><span class="line"></span><br><span class="line">	w.Write([]<span class="type">byte</span>(<span class="string">"Hello world!!\n"</span>))</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Reader <span class="keyword">interface</span> {</span><br><span class="line">	ReadBook()</span><br><span class="line">}</span><br><span class="line"><span class="keyword">type</span> Writer <span class="keyword">interface</span> {</span><br><span class="line">	WriteBook()</span><br><span class="line">}</span><br><span class="line"><span class="keyword">type</span> Book <span class="keyword">struct</span>{}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *Book)</span></span> ReadBook() {</span><br><span class="line">	fmt.Println(<span class="string">"Read..."</span>)</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *Book)</span></span> WriteBook() {</span><br><span class="line">	fmt.Println(<span class="string">"Write..."</span>)</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">	<span class="comment">//b:pair&lt;type:Book,value:book{}的地址&gt;</span></span><br><span class="line">	b := &amp;Book{}</span><br><span class="line"></span><br><span class="line">	<span class="comment">//r:pair&lt;type: , value: &gt;</span></span><br><span class="line">	<span class="keyword">var</span> r Reader</span><br><span class="line">	<span class="comment">//r: pair&lt;type:Book,value:book{}的地址&gt;</span></span><br><span class="line">	r = b</span><br><span class="line"></span><br><span class="line">	r.ReadBook()</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> w Writer</span><br><span class="line">	<span class="comment">//w: pair&lt;type:Book,value:book{}的地址&gt;</span></span><br><span class="line">	w = r.(Writer)</span><br><span class="line">	w.WriteBook()</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><img src="/images/Golang%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.assets/image-20230109165629812.png" alt="image-20230109165629812"></p><h2 id="2-使用reflect获取变量的value和type"><a href="#2-使用reflect获取变量的value和type" class="headerlink" title="2.使用reflect获取变量的value和type"></a>2.使用reflect获取变量的value和type</h2><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="string">"reflect"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">reflectNum</span><span class="params">(arg <span class="keyword">interface</span>{})</span></span> {</span><br><span class="line">	fmt.Println(<span class="string">"type: "</span>, reflect.TypeOf(arg))</span><br><span class="line">	fmt.Println(<span class="string">"value: "</span>, reflect.ValueOf(arg))</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">	<span class="keyword">var</span> num <span class="type">float64</span> = <span class="number">1.2345</span></span><br><span class="line">	reflectNum(num)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>运行结果：</strong></p><p><img src="/images/Golang%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.assets/image-20230109165849877.png" alt="image-20230109165849877"></p><h2 id="3-使用reflect获取类对象的字段和方法"><a href="#3-使用reflect获取类对象的字段和方法" class="headerlink" title="3.使用reflect获取类对象的字段和方法"></a>3.使用reflect获取类对象的字段和方法</h2><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="string">"reflect"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> User <span class="keyword">struct</span> {</span><br><span class="line">	Id   <span class="type">int</span></span><br><span class="line">	Name <span class="type">string</span></span><br><span class="line">	Age  <span class="type">int</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this User)</span></span> Call() {</span><br><span class="line">	fmt.Println(<span class="string">"user is called"</span>)</span><br><span class="line">	fmt.Printf(<span class="string">"%v\n"</span>, this)</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">	user := User{<span class="number">1</span>, <span class="string">"zhangsan"</span>, <span class="number">8</span>}</span><br><span class="line">	DoFileAndMethod(user)</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">DoFileAndMethod</span><span class="params">(input <span class="keyword">interface</span>{})</span></span> {</span><br><span class="line">	<span class="comment">//获取input的type</span></span><br><span class="line">	inputType := reflect.TypeOf(input)</span><br><span class="line">	fmt.Println(<span class="string">"inputType: "</span>, inputType.Name())</span><br><span class="line">	<span class="comment">//获取input的value</span></span><br><span class="line">	inputValue := reflect.ValueOf(input)</span><br><span class="line">	fmt.Println(<span class="string">"inputValue: "</span>, inputValue)</span><br><span class="line"></span><br><span class="line">	<span class="comment">//通过type获取里面的字段</span></span><br><span class="line">	<span class="comment">//1. 获取interface的reflect.Type ,通过Type得到NumField,进行遍历</span></span><br><span class="line">	<span class="comment">//2.得到每个field, 数据类型</span></span><br><span class="line">	<span class="comment">//3. 通过field有一个Interface()方法得到对应的value</span></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; inputType.NumField(); i++ {</span><br><span class="line">		field := inputType.Field(i)</span><br><span class="line">		value := inputValue.Field(i).Interface()</span><br><span class="line"></span><br><span class="line">		fmt.Printf(<span class="string">"%s: %v = %v\n"</span>, field.Name, field.Type, value)</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="comment">//通过type获取里面的方法，调用</span></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; inputType.NumMethod(); i++ {</span><br><span class="line">		m := inputType.Method(i)</span><br><span class="line">		fmt.Printf(<span class="string">"%s: %v\n"</span>, m.Name, m.Type)</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>运行结果：</strong></p><p><img src="/images/Golang%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.assets/image-20230109170055450.png" alt="image-20230109170055450"></p><h1 id="九、goroutine和channel"><a href="#九、goroutine和channel" class="headerlink" title="九、goroutine和channel"></a>九、goroutine和channel</h1><h2 id="1-创建一个goroutine"><a href="#1-创建一个goroutine" class="headerlink" title="1.创建一个goroutine"></a>1.创建一个goroutine</h2><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="string">"time"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">newTask</span><span class="params">()</span></span> {</span><br><span class="line">	i := <span class="number">0</span></span><br><span class="line">	<span class="keyword">for</span> {</span><br><span class="line">		i++</span><br><span class="line">		fmt.Printf(<span class="string">"new goroutine : i = %d\n"</span>, i)</span><br><span class="line">		time.Sleep(<span class="number">1</span> * time.Second)</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 主goroutine</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">	<span class="comment">//创建一个go程(goroutine),去执行newTask</span></span><br><span class="line">	<span class="keyword">go</span> newTask()</span><br><span class="line"></span><br><span class="line">	i := <span class="number">0</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> {</span><br><span class="line">		i++</span><br><span class="line">		fmt.Printf(<span class="string">"main goroutine : i = %d\n"</span>, i)</span><br><span class="line">		time.Sleep(<span class="number">1</span> * time.Second)</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>运行结果：</strong></p><p><img src="/images/Golang%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.assets/image-20230109203711121.png" alt="image-20230109203711121"></p><p><strong>知识点：</strong></p><p>(1) 使用<strong>go</strong>关键字可以开启一个go程</p><p>(2) 可以使用go加匿名函数来创建一个go程，详情见下面的代码</p><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="string">"time"</span></span><br><span class="line">	<span class="comment">// "runtime"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	//用go创建承载一个形参为空，返回值为空的一个函数</span></span><br><span class="line"><span class="comment">	go func(){</span></span><br><span class="line"><span class="comment">		defer fmt.Println("A.defer")</span></span><br><span class="line"><span class="comment">		func() {</span></span><br><span class="line"><span class="comment">			defer fmt.Println("B.defer")</span></span><br><span class="line"><span class="comment">			//退出当前goruntine</span></span><br><span class="line"><span class="comment">			// runtime.Goexit()</span></span><br><span class="line"><span class="comment">			fmt.Println("B")</span></span><br><span class="line"><span class="comment">		}()</span></span><br><span class="line"><span class="comment">		fmt.Println("B")</span></span><br><span class="line"><span class="comment">	}()</span></span><br><span class="line"><span class="comment">	**/</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">(a <span class="type">int</span>, b <span class="type">int</span>)</span></span> <span class="type">bool</span>{</span><br><span class="line">		fmt.Println(<span class="string">"a ="</span>,a,<span class="string">"b = "</span>,b)</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">	}(<span class="number">10</span>,<span class="number">20</span>)</span><br><span class="line"></span><br><span class="line">	<span class="comment">//死循环，防止主go程死掉，导致子go程死掉</span></span><br><span class="line">	<span class="keyword">for</span>{</span><br><span class="line">		time.Sleep(<span class="number">1</span> * time.Second)</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>注意：使用go+func创建go程后要在最后使用括号调用函数</p><h2 id="2-创建一个channel"><a href="#2-创建一个channel" class="headerlink" title="2.创建一个channel"></a>2.创建一个channel</h2><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 1.当main协程先到达num := &lt;- c，会发生阻塞，等待子协程运行到c &lt;- 666，然后唤醒main协程</span></span><br><span class="line"><span class="comment">// 2.当子协程先到达c &lt;- 666，同样会发生阻塞，等待主协程读取后再唤醒子协程</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">	<span class="comment">//定义一个channel</span></span><br><span class="line">	c := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> {</span><br><span class="line">		<span class="keyword">defer</span> fmt.Println(<span class="string">"go1结束"</span>)</span><br><span class="line"></span><br><span class="line">		fmt.Println(<span class="string">"go1正在运行...."</span>)</span><br><span class="line"></span><br><span class="line">		c &lt;- <span class="number">666</span> <span class="comment">//将666发送给c</span></span><br><span class="line">	}()</span><br><span class="line"></span><br><span class="line">	num := &lt;-c <span class="comment">//从c中接收数据，赋值给num</span></span><br><span class="line"></span><br><span class="line">	fmt.Println(<span class="string">"num = "</span>, num)</span><br><span class="line">	fmt.Println(<span class="string">"main gorountine结束"</span>)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>运行结果：</strong></p><p><img src="/images/Golang%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.assets/image-20230109204659473.png" alt="image-20230109204659473"></p><p><strong>知识点：</strong></p><p>(1) 使用**make(chan int)**声明并初始化一个int类型的channel</p><p>(2) 在channel中读数据: <strong>num := &lt;-c</strong> ,写数据：<strong>c &lt;- 666</strong></p><h2 id="3-带缓冲的channel"><a href="#3-带缓冲的channel" class="headerlink" title="3.带缓冲的channel"></a>3.带缓冲的channel</h2><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="string">"time"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">	<span class="comment">//定义一个带缓冲的channel</span></span><br><span class="line">	c := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>, <span class="number">3</span>)</span><br><span class="line">	<span class="comment">//len是当前缓存有多少元素，cap是缓存的容量</span></span><br><span class="line">	fmt.Println(<span class="string">"len(c) = "</span>, <span class="built_in">len</span>(c), <span class="string">"cap(c)"</span>, <span class="built_in">cap</span>(c))</span><br><span class="line"></span><br><span class="line">	<span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> {</span><br><span class="line">		<span class="keyword">defer</span> fmt.Println(<span class="string">"子go程结束"</span>)</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">5</span>; i++ {</span><br><span class="line">			c &lt;- i</span><br><span class="line">			fmt.Println(<span class="string">"子go程正在运行 len(c) = "</span>, <span class="built_in">len</span>(c), <span class="string">"cap(c)"</span>, <span class="built_in">cap</span>(c))</span><br><span class="line">		}</span><br><span class="line">	}()</span><br><span class="line"></span><br><span class="line">	time.Sleep(<span class="number">2</span> * time.Second)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">3</span>; i++ {</span><br><span class="line">		num := &lt;-c</span><br><span class="line">		fmt.Println(<span class="string">"num ="</span>, num)</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	fmt.Println(<span class="string">"main结束"</span>)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>运行结果：</strong></p><p><img src="/images/Golang%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.assets/image-20230109210026928.png" alt="image-20230109210026928"></p><p><strong>知识点：</strong></p><p>(1) 当子go程向channel写了3个元素之后，由于主go程的Sleep,并没有人读channel，导致子go程阻塞。随后，主go程睡醒，读取三个元素然后结束，就导致了子go程的defer语句没有输出</p><p>(2) 当channel满了之后，再想写入就会阻塞当前go程</p><h2 id="4-使用close关闭channel"><a href="#4-使用close关闭channel" class="headerlink" title="4.使用close关闭channel"></a>4.使用close关闭channel</h2><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line"></span><br><span class="line">	c := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> {</span><br><span class="line">		<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">5</span>; i++ {</span><br><span class="line">			c &lt;- i</span><br><span class="line">		}</span><br><span class="line"></span><br><span class="line">		<span class="comment">//close可以关闭一个channel</span></span><br><span class="line">		<span class="built_in">close</span>(c)</span><br><span class="line">	}()</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> {</span><br><span class="line">		<span class="comment">//当ok为false时，表示channel已经关闭且为空；否则返回true</span></span><br><span class="line">		<span class="keyword">if</span> data, ok := &lt;-c; ok {</span><br><span class="line">			fmt.Println(data)</span><br><span class="line">		} <span class="keyword">else</span> {</span><br><span class="line">			<span class="keyword">break</span></span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	fmt.Println(<span class="string">"main结束"</span>)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>运行结果：</strong></p><p><img src="/images/Golang%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.assets/image-20230109210719855.png" alt="image-20230109210719855"></p><p><strong>知识点：</strong></p><p>(1) channel关闭就不可以写了，但是可以接着读</p><h2 id="5-使用range来不断迭代操作channel"><a href="#5-使用range来不断迭代操作channel" class="headerlink" title="5.使用range来不断迭代操作channel"></a>5.使用range来不断迭代操作channel</h2><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line"></span><br><span class="line">	c := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> {</span><br><span class="line">		<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">5</span>; i++ {</span><br><span class="line">			c &lt;- i</span><br><span class="line">		}</span><br><span class="line"></span><br><span class="line">		<span class="comment">//close可以关闭一个channel</span></span><br><span class="line">		<span class="built_in">close</span>(c)</span><br><span class="line">	}()</span><br><span class="line"></span><br><span class="line">	<span class="comment">// for{</span></span><br><span class="line">	<span class="comment">// 	//当ok为false时，表示channel已经关闭且为空；否则返回true</span></span><br><span class="line">	<span class="comment">// 	if data,ok := &lt;-c; ok{</span></span><br><span class="line">	<span class="comment">// 		fmt.Println(data)</span></span><br><span class="line">	<span class="comment">// 	}else{</span></span><br><span class="line">	<span class="comment">// 		break</span></span><br><span class="line">	<span class="comment">// 	}</span></span><br><span class="line">	<span class="comment">// }</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//可以使用range来不断迭代操作channel</span></span><br><span class="line">	<span class="keyword">for</span> data := <span class="keyword">range</span> c {</span><br><span class="line">		fmt.Println(data)</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	fmt.Println(<span class="string">"main结束"</span>)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><img src="/images/Golang%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.assets/image-20230109210928897.png" alt="image-20230109210928897"></p><h2 id="6-使用select"><a href="#6-使用select" class="headerlink" title="6.使用select"></a>6.使用select</h2><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">fabonacii</span><span class="params">(c, quit <span class="keyword">chan</span> <span class="type">int</span>)</span></span> {</span><br><span class="line">	x, y := <span class="number">1</span>, <span class="number">1</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> {</span><br><span class="line">		<span class="keyword">select</span> {</span><br><span class="line">		<span class="keyword">case</span> c &lt;- x:</span><br><span class="line">			<span class="comment">//如果c可以写，就会进这个case</span></span><br><span class="line">			t := y</span><br><span class="line">			y, x = x+y, t</span><br><span class="line">		<span class="keyword">case</span> &lt;-quit:</span><br><span class="line">			fmt.Println(<span class="string">"quit"</span>)</span><br><span class="line">			<span class="keyword">return</span></span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line"></span><br><span class="line">	c := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>)</span><br><span class="line">	quit := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> {</span><br><span class="line">		<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">6</span>; i++ {</span><br><span class="line">			fmt.Println(&lt;-c)</span><br><span class="line">		}</span><br><span class="line"></span><br><span class="line">		quit &lt;- <span class="number">0</span></span><br><span class="line">	}()</span><br><span class="line"></span><br><span class="line">	fabonacii(c, quit)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>运行结果：</strong></p><p><img src="/images/Golang%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.assets/image-20230109211020027.png" alt="image-20230109211020027"></p><h1 id="十、即时通信系统"><a href="#十、即时通信系统" class="headerlink" title="十、即时通信系统"></a>十、即时通信系统</h1><p>跟着老师的课程，使用go语言写了一个即时通信系统的小例子，放在了我的github上</p><p>项目地址：<a target="_blank" rel="noopener" href="https://github.com/feiweiliang/-golang-">https://github.com/feiweiliang/-golang-</a></p><p>实现的功能：</p><ul><li>更改用户名</li><li>公聊模式</li><li>私聊模式</li><li>查看当前在线用户</li><li>超时强踢</li></ul><p>项目截图：</p><p><img src="/images/Golang%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.assets/image-20230109213153122.png" alt="image-20230109213153122"></p><p>未来打算学完gin之后，改成web界面版的即时通信系统</p></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://blog.s8ark.top">s8ark</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://blog.s8ark.top/2023/01/09/Golang%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">https://blog.s8ark.top/2023/01/09/Golang学习笔记/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://blog.s8ark.top" target="_blank">少年锦时</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Golang/">Golang</a><a class="post-meta__tags" href="/tags/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/">编程语言</a><a class="post-meta__tags" href="/tags/%E5%B9%B6%E5%8F%91/">并发</a><a class="post-meta__tags" href="/tags/%E5%8D%8F%E7%A8%8B/">协程</a></div><div class="post_share"><div class="social-share" data-image="http://up.36992.com/pic/e6/c5/51/e6c551e768092c8655292d89a4034a74.jpg" data-sites="wechat,qq,weibo,facebook,twitter"></div><link rel="stylesheet" href="https://unpkg.com/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media=&quot;all&quot;"><script src="https://unpkg.com/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer=""></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/wechat.jpg" target="_blank"><img class="post-qr-code-img" src="/img/wechat.jpg" alt="wechat"></a><div class="post-qr-code-desc">wechat</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/03/04/IDEA%E5%9C%A8debug%E6%97%B6%E5%8D%95%E6%AD%A5%E8%B0%83%E8%AF%95%E8%B7%B3%E8%BF%87%E6%9F%90%E4%BA%9B%E7%B1%BB/"><img class="prev-cover" src="http://up.36992.com/pic/e6/c5/51/e6c551e768092c8655292d89a4034a74.jpg" onerror="onerror=null,src=&quot;/img/404.jpg&quot;" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">IDEA在debug时单步调试跳过某些类</div></div></a></div><div class="next-post pull-right"><a href="/2022/12/12/CC%E9%93%BE%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-CC2457/"><img class="next-cover" src="http://up.36992.com/pic/e6/c5/51/e6c551e768092c8655292d89a4034a74.jpg" onerror="onerror=null,src=&quot;/img/404.jpg&quot;" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">CC链学习笔记-CC2457</div></div></a></div></nav><hr><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/touxiang.jpg" onerror="this.onerror=null,this.src=&quot;/img/friend_404.gif&quot;" alt="avatar"></div><div class="author-info__name">s8ark</div><div class="author-info__description">但行好事，莫问前程</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">19</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">38</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">7</div></a></div><div class="card-info-social-icons is-center"><a class="social-icon" href="https://space.bilibili.com/471790025" target="_blank" title="bilibili"><i class="iconfont icon-bilibili"></i></a><a class="social-icon" href="https://blog.csdn.net/qq_41401434" target="_blank" title="csdn"><i class="iconfont icon-csdn"></i></a><a class="social-icon" href="https://www.zhihu.com/people/yu-ji-4-35-17" target="_blank" title="知乎"><i class="iconfont icon-shejiaotubiao-10"></i></a><a class="social-icon" href="https://github.com/feiweiliang" target="_blank" title="Github"><i class="iconfont icon-github"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E7%9B%AE%E5%BD%95"><span class="toc-number">1.</span> <span class="toc-text">一、目录</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E5%88%9D%E8%AF%86go%E8%AF%AD%E8%A8%80"><span class="toc-number">2.</span> <span class="toc-text">二、初识go语言</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E5%8F%98%E9%87%8F%E4%B8%8E%E5%B8%B8%E9%87%8F"><span class="toc-number">3.</span> <span class="toc-text">三、变量与常量</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%A3%B0%E6%98%8E%E5%8F%98%E9%87%8F%E7%9A%84%E5%9B%9B%E7%A7%8D%E6%96%B9%E5%BC%8F"><span class="toc-number">3.1.</span> <span class="toc-text">1.声明变量的四种方式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%A3%B0%E6%98%8E%E5%A4%9A%E4%B8%AA%E5%8F%98%E9%87%8F"><span class="toc-number">3.2.</span> <span class="toc-text">2.声明多个变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-const%E4%B8%8Eiota"><span class="toc-number">3.3.</span> <span class="toc-text">3.const与iota</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E5%87%BD%E6%95%B0%E7%9A%84%E8%BF%94%E5%9B%9E%E5%80%BC%E4%B8%8Edefer"><span class="toc-number">4.</span> <span class="toc-text">四、函数的返回值与defer</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%87%BD%E6%95%B0%E5%A4%9A%E8%BF%94%E5%9B%9E%E5%80%BC%E7%9A%84%E5%87%A0%E7%A7%8D%E5%86%99%E6%B3%95"><span class="toc-number">4.1.</span> <span class="toc-text">1.函数多返回值的几种写法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-defer%E8%AF%AD%E5%8F%A5%E8%B0%83%E7%94%A8%E6%B5%81%E7%A8%8B"><span class="toc-number">4.2.</span> <span class="toc-text">2.defer语句调用流程</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%94%E3%80%81golang%E4%B8%AD%E7%9A%84%E6%95%B0%E7%BB%84"><span class="toc-number">5.</span> <span class="toc-text">五、golang中的数组</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E9%9D%99%E6%80%81%E6%95%B0%E7%BB%84"><span class="toc-number">5.1.</span> <span class="toc-text">1.静态数组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%8A%A8%E6%80%81%E6%95%B0%E7%BB%84"><span class="toc-number">5.2.</span> <span class="toc-text">2.动态数组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%8A%A8%E6%80%81%E6%95%B0%E7%BB%84%E7%9A%84%E5%AE%B9%E9%87%8F"><span class="toc-number">5.3.</span> <span class="toc-text">3.动态数组的容量</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%AD%E3%80%81golang%E4%B8%AD%E7%9A%84map"><span class="toc-number">6.</span> <span class="toc-text">六、golang中的map</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%83%E3%80%81golang%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%9F%BA%E7%A1%80"><span class="toc-number">7.</span> <span class="toc-text">七、golang面向对象基础</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-struct%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">7.1.</span> <span class="toc-text">1.struct的使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%AF%B9%E8%B1%A1"><span class="toc-number">7.2.</span> <span class="toc-text">2.创建一个对象</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E7%B1%BB%E7%9A%84%E7%BB%A7%E6%89%BF"><span class="toc-number">7.3.</span> <span class="toc-text">3.类的继承</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%8E%A5%E5%8F%A3"><span class="toc-number">7.4.</span> <span class="toc-text">4.创建一个接口</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-interface-%E4%B8%87%E8%83%BD%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">7.5.</span> <span class="toc-text">5.interface{}万能数据类型</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%AB%E3%80%81golang%E4%B8%AD%E7%9A%84%E5%8F%8D%E5%B0%84"><span class="toc-number">8.</span> <span class="toc-text">八、golang中的反射</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%8F%98%E9%87%8F%E7%9A%84%E5%86%85%E7%BD%AEpair%E7%BB%93%E6%9E%84"><span class="toc-number">8.1.</span> <span class="toc-text">1.变量的内置pair结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E4%BD%BF%E7%94%A8reflect%E8%8E%B7%E5%8F%96%E5%8F%98%E9%87%8F%E7%9A%84value%E5%92%8Ctype"><span class="toc-number">8.2.</span> <span class="toc-text">2.使用reflect获取变量的value和type</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E4%BD%BF%E7%94%A8reflect%E8%8E%B7%E5%8F%96%E7%B1%BB%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%AD%97%E6%AE%B5%E5%92%8C%E6%96%B9%E6%B3%95"><span class="toc-number">8.3.</span> <span class="toc-text">3.使用reflect获取类对象的字段和方法</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B9%9D%E3%80%81goroutine%E5%92%8Cchannel"><span class="toc-number">9.</span> <span class="toc-text">九、goroutine和channel</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAgoroutine"><span class="toc-number">9.1.</span> <span class="toc-text">1.创建一个goroutine</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAchannel"><span class="toc-number">9.2.</span> <span class="toc-text">2.创建一个channel</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%B8%A6%E7%BC%93%E5%86%B2%E7%9A%84channel"><span class="toc-number">9.3.</span> <span class="toc-text">3.带缓冲的channel</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E4%BD%BF%E7%94%A8close%E5%85%B3%E9%97%ADchannel"><span class="toc-number">9.4.</span> <span class="toc-text">4.使用close关闭channel</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E4%BD%BF%E7%94%A8range%E6%9D%A5%E4%B8%8D%E6%96%AD%E8%BF%AD%E4%BB%A3%E6%93%8D%E4%BD%9Cchannel"><span class="toc-number">9.5.</span> <span class="toc-text">5.使用range来不断迭代操作channel</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E4%BD%BF%E7%94%A8select"><span class="toc-number">9.6.</span> <span class="toc-text">6.使用select</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8D%81%E3%80%81%E5%8D%B3%E6%97%B6%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F"><span class="toc-number">10.</span> <span class="toc-text">十、即时通信系统</span></a></li></ol></div></div></div></div></main><footer id="footer" style="background:0 0"><div id="footer-wrap"><div class="copyright">©2020 - 2024 By s8ark</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text"><a href="https://beian.miit.gov.cn/#/Integrated/index" style="color:#fff" target="_blank"><img src="https://img.shields.io/badge/%E5%86%80ICP%E5%A4%87-2022029585%E5%8F%B7--1-yellow" alt="冀ICP备2022029585号-1"></a>&nbsp;&nbsp;&nbsp;<a href="https://www.upyun.com/?utm_source=lianmeng&amp;utm_medium=referral" style="color:#fff" target="_blank"><img alt="本网站由又拍云提供CDN加速/云存储服务" src="https://img.shields.io/badge/CDN-%E5%8F%88%E6%8B%8D%E4%BA%91-00b6ff?style=flat&amp;logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+nhxg7wAABs1JREFUSInllv2PVFcZxz/n3LfZmdmd3ZndZWGhhV0qYLaFEgzQpog12tZYbVRCSa00mLap6Q+aNERp5QcVlRhi0GjaGElromI08aU1tMRXWmspRaEVbIDtdimwy77M7uy83Xvn3nP84c7b7oD/QE8yyT13znO/z/f7nOcF3m9L1B4OnNYYEoSG165kGZkukLLjdEmXiew4yum7+4qK31u2rduLFXOgEEoQCrQs9RjepaW2f35Nu/9QqRh4Fi4jrkHCMmhTitlCBcOIoP768CoAzGt5owFLQBKfad/Yflau+Mo4qY0IE8qAUbXUgKT9ctFZVJAzqzcivLN+/JGY0H6HKD0riKGvw7gFWAFtUmMTyFPF5C+Gded2LBmBaB2BAigRyeMJ0jGPgxtiyX+MtW18/ZL1DLEMK/TER9eb+Z2GQGU1CK0b8gKy9uCYYJmQcUCgUm+U0qeGw/R2pIwAdbPvAiE0aAGux0MDc7eJAJ57V7+GZYAQjLDo8yd0z6lAqQ5bBbh+iF8JWxmP5XwSJrhCyz9NJU7mdHwwknOBWEKAAq0EuIrPrKp8d3lb+M/HT/qvlsN2pKNRSoDUXAxSN+eKlWMPD7jrFi3pZc4NeHUh4+zcNMW5q/z47dLhi4X4IHYt2hFDBBFDpUmYJXoNb+y23tzPHlgRfu2F8bZ9s4W2zdgSpap2OopbzsysPUHX85YIcdU1YnxLX5pT0+59w+X4NqwmpgIIgUCxNF4+vsaY2bsknjtq+yYTnsGhMx33H8127SFp03KTBBAT/H3U+qTIZe9ambFfagHOl0OOjJs/wjCZdwtCARI2d899Z0iP7Rkv2J0ngu49xUCvu1R2+sJS6g4MAyF11deasY5+CjBs3jE6f3KrMXlDC/Cfr0xuuegtWYIpmjwXUA7YcbP69tb2ypPfO5naPyJ7d4fKioLUDihdVxZEpI4ApGiEyoKLM8aydyx5J/CXeTE+m5PbkFZV4qpBoPlAJnh7R7rw5G8vm9+/4PfvDg0rSiMdgYraeQ0xGVZu78o9tSUx9ViK0pUGc0CbTNtdu1oYG7Geu+vFAaLbqz0+3B1sf2WKnhcvJ79MvCn21JiKiGIAt6amn9scK+4brpiskOHMKRU/jCSS2xG8ddVbVcOrM54KrBvqoERyO4YqLTaKb76ct7+JtufHfuEyYKIkeoKKpN12ySs1QF28qkJmrL8FuBwqv7HTEELC4b/Fks/EjPgcDq05TeO8EJrhSten35KLDjpmhfd8/QBNYY6clp0twC1LAmGQLJdyCF08gub/MtYCECZni+JBTyYwrKS7ML2UbrxplEwpHeoJHkk9IPO/z3QluKen/GC/MXuM8PrIQkc3+sY298hAwsIQbSvnAWuwpSq3AGesyhhh08EwZKBdHi+EDjEkyxLBm9dtNYjqXx5DTnHvsCeXFCoi1fh6VPEsEYy3ACf1zN9qlRE0whAcdzM/GCk5Hz+W1dv+U0jubFy+aqdpFsCD9en8r4ba9fDLU6mfI8wo7Zqc65Ccru3q6dQtC79EVb6AUc1lQzJakP2jOvUSZrqKUgu0QMvqNgBkyOpk7ndfXKruP+11Pf5uwdgqHYWqHwIIGTTLh88tBN7a3/3i+VF/ZtyzujAFut57a0d0A1sDpdzoUkfMdCTNs4Pm3MG1nfL1Fy7bjxwtxn6IXfOzauNDZ6w8u67Pf/7IQuDB3hSfCMtPHDoX/hTDaJKxXgzR1ca/PjnzxOL47IGgXOYG2+U9f/Gyw1Op31yYsz6LKcEEpZryyPe5d1B+dWnf4rrwdeATo+P0yfBQr53cOVHp2oIjWpo/LgwlZp/etdo78MeJ9DeO5cUmM+fflNcdy9E2ONGkoWvZIQSUFGt63ZNb+hPPzPr1S9KUTlYndizDl1Zan+qOlXNUqobVD2gPMubcyP4PlR57Ix979MhI+9fLRsfH8qJ7OYYNhkZo1dRfNATQ3ebmdq2073KFQTmgFfjG7jjprjgrMsncPb2FDXEKkwRV8BCEGbD7g2LNmdnYwLPn257Gro6kNMaixlQlwJckVXbyvszsBseJTU+VqA4JC4DdisavwNUy2Ia4sCk5OdRvzLxCBXAVj64NdvTGtbf337ETaBvMa3V9EQ2BFbgpkf/XnbHpIUuHF2YrYMqGgPNi3OxJIZQgjYmNidIdYwHfyjpZ3ZGtHN6fXXbOVfE0MebncHXMAUiL4uRHlpQP3pJW+04OC3KhST+tw8k152oJeEpQNGxWx0tP+WGeK0Xbcb3SWCYpTS80ul0lECi0EF6n8LNJOzjThvuHobj/603dTnFcORQDQcf1y937bP0Pc6b8FW3Czt0AAAAASUVORK5CYII="></a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span> 数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"></div></div><hr><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://unpkg.com/@fancyapps/ui/dist/fancybox.umd.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>function loadValine () {
  function initValine () {
    const valine = new Valine(Object.assign({
      el: '#vcomment',
      appId: 'D8nose2CIyOjFl8XPfDeFNy6-gzGzoHsz',
      appKey: '2i3KumjG4kgQlX0YoU53eStd',
      avatar: 'monsterid',
      serverURLs: '',
      emojiMaps: "",
      path: window.location.pathname,
      visitor: false
    }, null))
  }

  if (typeof Valine === 'function') initValine() 
  else getScript('https://unpkg.com/valine/dist/Valine.min.js').then(initValine)
}

if ('Valine' === 'Valine' || !true) {
  if (true) btf.loadComment(document.getElementById('vcomment'),loadValine)
  else setTimeout(loadValine, 0)
} else {
  function loadOtherComment () {
    loadValine()
  }
}</script></div><script src="/js/jquery.js"></script><script src="/js/foot.js"></script><script async="" src="https://npm.elemecdn.com/tzy-blog/lib/js/other/sakura.js"></script><script id="click-show-text" src="https://unpkg.com/butterfly-extsrc/dist/click-show-text.min.js" data-mobile="true" data-text="富强,民主,文明,和谐,平等,公正,法治,爱国,敬业,诚信,友善" data-fontsize="15px" data-random="true" async=""></script><link rel="stylesheet" href="https://unpkg.com/aplayer/dist/APlayer.min.css" media="print" onload="this.media=&quot;all&quot;"><script src="https://unpkg.com/aplayer/dist/APlayer.min.js"></script><script src="https://unpkg.com/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script async="" data-pjax="" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>